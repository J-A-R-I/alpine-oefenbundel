<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="utf-8">
    <title>Modal Component</title>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>

</head>
<body class="p-4">

<div class="max-w-sm"
     x-data="{
         zoekText: '',
         steden: ['Brussel', 'Antwerpen', 'Gent', 'Luik', 'Brugge', 'Namen', 'Hasselt', 'Kortrijk'],
         array: [],
         open: false,

         filterCities() {
             if (this.zoekText.length > 0) {
                 this.filteredCities = this.steden.filter(city =>
                     city.toLowerCase().startsWith(this.zoekText.toLowerCase())
                 );
                 this.open = true;
             } else {
                 this.filteredCities = [];
                 this.open = false;
             }
         },

         selectCity(city) {
             this.zoekText = city;
             this.open = false;
             this.array = [];
         }
     }">

    <label class="block text-sm font-medium text-slate-700 mb-1">
        Zoek stad
    </label>

    <div @click.outside="open = false" class="relative">
        <input
                @focus="filterCities()"
                @input="filterCities()"
                @keydown.escape.window="open = false"
                class="w-full border border-slate-300 rounded-lg px-3 py-2 text-sm"
                placeholder="Typ om te zoeken..."
                type="text"
                x-model="zoekText">

        <ul class="absolute z-10 mt-1 w-full bg-white border border-slate-200 rounded-lg shadow-lg text-sm"
            x-show="open && filteredCities.length > 0">

            <template :key="city" x-for="city in filteredCities">
                <li @click="selectCity(city)"
                    class="px-3 py-2 hover:bg-slate-100 cursor-pointer"
                    x-text="city">
                </li>
            </template>
        </ul>

    </div>

</div>

</body>
</html>